<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[嵌入式Linux开发笔记 Linux进程]]></title>
    <url>%2F2019%2F03%2F24%2FLinux-3%2F</url>
    <content type="text"><![CDATA[1. 进程相关概念1.1程序和进程 程序： 二进制文件，占用的磁盘空间 进程： 启动的程序 所有的数据都在内存中 需要占用更多的系统资源（cpu,物理内存），分成若干个时间碎片，给进程处理 1.2并行和并发 并发：并发并不是一个时间点，而是一个时间段内的概念 并行：并行是指两个或者多个事件在同一时刻发生 1.3进程控制块(PCB)每一个进程在内核里都有一个进程控制块来维护进程相关的信息。Linux内核的进程控制块是task_struct结构体，在/usr/src/linux-header-3.16/include/linux/sched.h文件里可以查看struct task_struct结构体的定义，其内部成员有很多，重点掌握以下内容 进程ID： 系统中每个进程都有唯一的ID，在C语言中用pid_t类型表示，其实就是一个非负整数。pid_t是用typedef对某个数据类型做了重定义，后面的_t是就是typedef的意思 进程的状态： 有就绪，允许，运行，挂起，停止等状态 进程切换时需要保存和恢复的一些CPU寄存器 描述虚拟地址空间的信息 在Linux下，每启动一个虚拟进程就对应一个虚拟地址空间，包含应用程序的所有信息，但是里面数据的实际计算是在物理内存里(cpu里的MMU会做一个虚拟内存到物理内存之间的映射) 描述控制终端的信息 ./a.out执行起来就变成一个进程，进程在运行时，依赖于终端，因为需要把数据输出到对应的终端上，所以进程会保存一些控制终端的信息 当前工作目录（Current Working Directory） 当前进程是在哪个工作目录下工作的 pwd 在Linux下执行pwd,输出当前工作目录，是因为当前工作目录保存在地址空间中 umask掩码 在每一个进程下都有umask掩码 umask umask 222 umask 使用umask命令查看掩码，使用umask 222 改变进程掩码，在使用umask查看掩码，发现掩码改变为我们过设定的值。当再开启一个进程时，掩码为此进程下的掩码，与刚开始的进程下的修改的掩码不同，每一个进程之间是互不影响的 文件描述符表，包含很多指向file结构体的指针 文件描述符表在pcb里，其实可以看成一个大小为1024数组，对于任何一个进程来说，默认能打开的最多文件个数为1024个，把内核改一下，重新编译一下内核，就可以改变能打开的最多文件个数，不过不建议轻易改动内核，除非特殊需要 和信号相关的信息 Linux下独有的 用户ID和组ID stat test.c 输入stat加文件名，查看文件状态uid和Gid后的就是用户ID和组ID 会话（Session）和进程组 多个进程放在一起就是一个进程组，多个进程组组成的就是会话 进程可以使用的资源上限（Resource Limit） ulimit -a 输入 ulimit -a命令，可以看到进程里的资源，例如默认能打开的文件个数，管道里的缓存区，栈的默认缓存区大小，都在资源上限里看到，这些数据都是存在进程控制块里， 1.4进程的五种状态 就绪态 在终端下执行./a.out后，进程有了，它所对应的地址空间也有了，所处的状态为就绪态，有执行资格，没有执行权，多个进程分用cpu的时间碎片，在没有分到时间碎片时，处于就绪态 运行态 当抢到时间碎片后，处于运行态，所有的运行态都是从就绪态而来 挂起态 没有执行资格，没有执行权（例如运行sleep()函数后） 2. 进程控制进程控制是讲如何创建子进程 fork函数 fork函数创建子进程，子进程相当于父进程的拷贝，用户区数据一样，进程ID不同 fork函数有两个返回值 父进程返回子进程的PID 子进程返回0]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2019%2F03%2F22%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.文章置顶打开文章添加top字段,设置数值，数值越大文章越靠前 Quick Start Create a new post$ hexo new "My New Post" More info: Writing Run server$ hexo server More info: Server Generate static files$ hexo generate More info: Generating Deploy to remote sites$ hexo deploy More info: Deployment #include"stdio.h" int main(void) { printf("hello Linux模拟windows（SAMBA服务），与windows通讯\n"); return 0; }]]></content>
  </entry>
  <entry>
    <title><![CDATA[嵌入式Linux开发笔记 Linux环境搭建]]></title>
    <url>%2F2019%2F03%2F19%2Fpost-title%2F</url>
    <content type="text"><![CDATA[&lt;一&gt; Linux环境搭建 1.安装VMware Workstation虚拟机挂载： 它指将一个设备（通常是存储设备）挂接到一个已存在的目录上（这个目录可以不为空，但挂载后这个目录下以前的内容将不可用）我们要访问存储设备中的文件，必须将文件所在的分区挂载到一个已存在的目录上，然后通过访问这个目录来访问存储设备。 2.安装ubuntu及相关服务2.1 安装编辑器VIMapt-get install vim 2.2 SSHD服务 ssh：Secure shell 分为客户端和服务端(1)安装SecureCRT客户端远程登录服务器(2)zmodem协议rz 命令(上传)以zmodem协议receivesz 命令（下载）以zmodem协议send rz命令以后出现选择文件框选择完以后输入rz命令可以查看文件输入ls命令可以查看根目录输入cat+文件名命令可以查看文件内容 上传下载例子： vi mytest.txt（创建文件） //输入编辑内容 :wq（保存退出） ls（查看目录） sz mytest.txt (下载文件) 2.3samba服务器简介：SMB 协议：Server Message Block（服务消息块）Linux模拟windows（SAMBA服务），与windows通讯 1.安装samba服务器apt-get install samba 2.samba服务器的配置（1）/etc/samba/smb.conf samba的用户权限： smbpasswd （命令） Linux 登录用户 Samba登录用户（用户名共享，密码不共享） 配置需要共享哪个目录，以及这个目录的访问权限 （2）配置samba访问权限及samba登录密码： cd /etc/samba （进入Samba文件夹） ls cp smb.conf bak_smb.conf（复制文件） ls sudo vi smb.conf（查看文件） 按i进入编辑模式 [lsc_share] comment=My share （标题） path=/home/lsc/lab （共享目录） writable=yes （是否可写） browseable=yes （是否可以浏览） public=yes guest ok=yes （客户是否连接） 按ESC退出编辑模式 :wq （保存退出命令） （3）/——-以下命令在 /etc/samba$ 下进行—————-/ -a（只能增加一个现有用户） sudo smbpasswd -a lsc New SMB password: 123 Retype new SMB password: 123 sudo /etc/init.d/smbd restart（重启） sudo /etc/init.d/nmbd restart（重启） 3.windows客户端的访问方式3.1在windows下创建虚拟共享目录：1.在Linux终端输入 ifconfig（查看IP地址） 2.windows下输入运行3.在 运行中输入 \IP地址（初始状态下弹出输入用户名和密码。为上面所设置的内容）4.查看共享目录发现没有（在Linux下输入以下命令） cd /home/lsc/ ls mkdir lab （创建目录） cd lab/ ls vi 123.txt //编辑内容（内容随意，用于测试） ：wq（保存退出） 5.再去看共享目录，发现有123.txt文件 3.2映射网络驱动器（盘符）： （相当于将Linux的共享盘当做U盘放在Windows当中的映射服务） 选择盘符（默认） \192.168.220.129\lsc_share(lsc_share为前面创建的分享目录)(地址通过ifcofig命令查看，共享文件为所创建的方括号内的名字) 建立一个文件（.txt），用于测试 在linux下输入cd ./lab ls cat abc.txt (查看文件) 4.vmtools的安装su （进入root用户） mkdir /mnt/cdrom (在mnt目录下创建cdrom文件夹，用于下一步使用) mount /dev/cdrom /mnt/cdrom （将光驱上的文件挂载在我们新建的文件夹里面） cd /mnt/cdrom（将操作目录切换到mnt目录下的cdrom文件夹里面） ls (查看后我们可以看到，VMware Tools工具被成功的放在了新建的文件夹下) cp VMwareTools-10.1.15-6627299.tar.gz /tmp（将VMwareTools压缩包复制到tmp目录下） cd /tmp（将操作目录切换到tmp目录下） tar -zxvf VMwareTools-10.1.15-6627299.tar.gz（将VMwareTools压缩包解压） sudo vmware-tools-distrib/vmware-install.pl 进行VMwareTools工具的安装。（注意安装的时候，不管出现什么，全部按enter键就行了） 完成安装后，我们重新启动我们的linux虚拟机，我们就会看到我们的共享文件夹了 cd /mnt ls cd hgfs/ 14. 点击设置里的选项中的共享文件夹 15.选择总是启用 16. 从Windows里选择一个文件夹，此文件夹相当于一个U盘一样存储Linux所建立的文件实现交互 ls (查看我们所建立的文件夹) tar命令扩展： tar -zxvf VMwareTools-10.1.15-6627299.tar.gz -C /tmp/ （将文件解压到tmp目录下） 5.SourceInsight安装代码编译器利器]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
</search>
